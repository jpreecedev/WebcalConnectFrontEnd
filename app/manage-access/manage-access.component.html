<div class="container">
    <h1>Manage Access</h1>
    <hr/>

    <form action="" id="filterForm" method="post" role="form">
        <div class="row">
            <div class="col-xs-6">
                <div class="form-group">
                    <label for="selectUser">Select user</label>
                    <select id="selectUser" name="selectUser" class="form-control" #site (change)="getConnectedSites(site.value)">
                        <option [value]="item.id" *ngFor="#item of _users">{{item.name}}</option>
                    </select>
                </div>
            </div>
        </div>
    </form>
    <hr/>

    <spinner [isRunning]="_isRequesting"></spinner>

    <table class="table table-striped table-hover table-responsive" *ngIf="_connectedSites && !_isRequesting">
        <thead>
            <tr>
                <th>Site Description</th>
                <th class="actions">&nbsp;</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="#site of _connectedSites">
                <td>{{site.description}}</td>
                <td class="actions">
                    <button class="btn btn-secondary pull-right" (click)="toggleAccess(site)">{{site.isRevoked ? 'Authorize' : 'Revoke'}}</button>
                </td>
            </tr>
        </tbody>
    </table>

</div>